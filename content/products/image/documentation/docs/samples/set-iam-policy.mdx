---
title: Assign IAM policies
description: TODO
---

# Assign IAM policies

This page describes how to programmatically grant access to an Image API resource.

Examples of use cases where assigning IAM policies is necessary include:

- Allowing a third-party application to upload images to an album.
- Allowing other users to manage images available in an album.
- Allowing anyone to view images uploaded to a public album.

## Roles

The list of roles that can be assigned to _Image API_ resources can be found in the [reference page](/image/docs/reference/iam/roles) for IAM roles.

:::danger

The `image.settingsAdmin` role is internally managed and cannot be assigned by anyone except administrators.

:::

## IAM Members

The IAM members that can be assigned to an IAM policy binding can be one of the following:

| Member | Description |
| --- | --- |
| `allUsers` | Used to grant roles to anyone, both authenticated and unauthenticated. |
| `user:12345567890` | Used to grant roles only to a specific user. |
| `serviceAccount:12345567890` | Used to grant roles only to a specific service account. |


## Sample

The following code sample shows how to set an album IAM policy with the role `roles/image.viewer` assigned to `allUsers`. This means that any user, doesn't matter if authenticated or not, will be able to access all images in the specified album.

Replace `[ALBUM]` with the resource name of the album that the policy should be assigned to, e.g. `users/123/albums/456`.

:::tip

Tip: do not forget to replace `CLIENT-ID` and `CLIENT-SECRET` with valid [IAM Service Account](/authentication/service-accounts) client credentials.

:::

:::caution

The `SetIamPolicy` method will always replace (overwrite) any previously defined policy.

:::

import CodeBlock from '@theme/CodeBlock';
import SampleGo from '!!raw-loader!./../../../../../../samples/golang-samples/image/set-iam-policy/main.go';
// import SampleTypescript from '!!raw-loader!./../../../../../../nodejs-samples/image/set-iam-policy/app.ts';

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs
  groupId="programming-languages"
  values={[
    {label: 'Golang', value: 'go'},
    {/* {label: 'Node.js', value: 'nodejs'}, */}
  ]}>
  <TabItem value="go">
    <CodeBlock language="go">
      {SampleGo}
    </CodeBlock>
    <a href="https://github.com/animeapis/golang-samples/blob/master/image/set-iam-policy/main.go">View on GitHub</a>
  </TabItem>
  {/* <TabItem value="nodejs">
    <CodeBlock language="typescript">
      {SampleTypescript}
    </CodeBlock>
  </TabItem> */}
</Tabs>
